<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ü–µ—Ä—Å–æ–Ω–∞–∂–∏ ‚Äî Kazan & Dragons</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar">
    <div class="logo-sidebar">
      <div class="logo-icon"></div>
      <span>KAZAN & DRAGONS</span>
    </div>
    <ul class="nav-links">
      <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
      <li><a href="parties.html">–ù–∞–±–æ—Ä –≤ –ø–∞—Ä—Ç–∏–∏</a></li>
      <li><a href="rules.html">–ü—Ä–∞–≤–∏–ª–∞ D&D</a></li>
      <li><a href="#" class="active">–ü–µ—Ä—Å–æ–Ω–∞–∂–∏</a></li>
      <li><a href="tabletop.html">–ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ</a></li>
      <li><a href="tokenator.html">–¢–æ–∫–µ–Ω–∞—Ç–æ—Ä</a></li>
    </ul>
  </aside>

  <!-- Main Content -->
  <div class="main-content" id="mainContent">
    <header>
      <button class="menu-toggle" id="menuToggle">‚ò∞</button>
      <div class="account-widget">
        <div class="account-info" id="accountInfo">
          <div class="account-name" id="accountName">‚Äî</div>
          <div class="account-role" id="accountRole">‚Äî</div>
        </div>
        <button class="auth-btn" id="authButton">–í–æ–π—Ç–∏ / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
      </div>
    </header>

    <div class="page-header">
      <h1>–•—Ä–∞–Ω–∏–ª–∏—â–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π</h1>
      <p>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏ —É–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–∏–º–∏ –≥–µ—Ä–æ—è–º–∏</p>
    </div>

    <div class="controls">
      <button class="new-char-btn" id="newCharBtn">+ –ù–æ–≤—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂</button>
    </div>

    <!-- –°–µ—Ç–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π -->
    <div class="characters-grid" id="charactersGrid">
      <!-- –ü–µ—Ä—Å–æ–Ω–∞–∂–∏ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
    </div>

    <footer>
      <p>¬© 2025 Kazan & Dragons (K&D)</p>
    </footer>
  </div>

  <!-- –†–µ–¥–∞–∫—Ç–æ—Ä –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (—Å–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
  <div class="character-editor" id="characterEditor">
    <div class="editor-container">
      <div class="editor-header">
        <h2 id="editorTitle">–°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</h2>
        <button class="btn btn-secondary" id="closeEditor">‚úï –ó–∞–∫—Ä—ã—Ç—å</button>
      </div>

      <div class="editor-actions">
        <button class="btn btn-primary" id="saveCharBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</button>
        <button class="btn export-btn" id="exportJsonBtn">–≠–∫—Å–ø–æ—Ä—Ç –≤ JSON</button>
      </div>

      <!-- –í–ï–†–•–ù–Ø–Ø –ß–ê–°–¢–¨ - –ö–û–ú–ü–ê–ö–¢–ù–ê–Ø -->
      <div class="character-header compact-header">
        <div class="form-group">
          <label>–ò–º—è</label>
          <input type="text" id="charName" class="form-control" placeholder="–ê—Ä–∞–≥–æ—Ä–Ω">
        </div>
        <div class="form-group level-group">
          <label>–£—Ä–æ–≤–µ–Ω—å</label>
          <div class="level-input">
            <input type="number" id="charLevel" class="form-control" value="1" min="1" max="20" readonly>
            <input type="number" id="charExp" class="form-control exp-input" placeholder="0 XP">
          </div>
        </div>
        <div class="form-group">
          <label>–ö–ª–∞—Å—Å</label>
          <input type="text" id="charClass" class="form-control" placeholder="–í–æ–∏–Ω">
        </div>
        <div class="form-group">
          <label>–†–∞—Å–∞</label>
          <input type="text" id="charRace" class="form-control" placeholder="–ß–µ–ª–æ–≤–µ–∫">
        </div>
        <div class="form-group armor-group">
          <label>–ö–ó</label>
          <div class="armor-input">
            <input type="number" id="armorClass" class="form-control" value="10">
            <div class="shield-toggle">
              <label>
                <input type="checkbox" id="shieldToggle">
                <span class="shield-icon">üõ°Ô∏è</span>
              </label>
              <input type="number" id="shieldBonus" class="form-control shield-bonus" value="2" min="0" max="5">
            </div>
          </div>
        </div>
        <div class="form-group inspiration-group">
          <label>&nbsp;</label>
          <label class="inspiration-toggle">
            <input type="checkbox" id="inspirationToggle">
            <span class="inspiration-icon">‚ú®</span> –í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ
          </label>
        </div>
      </div>

      <!-- –ë–õ–û–ö –•–ò–¢–û–í - –ö–û–ú–ü–ê–ö–¢–ù–´–ô -->
      <div class="hp-section compact-hp">
        <div class="form-group">
          <label>–•–∏—Ç—ã</label>
          <div class="hp-inputs">
            <input type="number" id="currentHP" class="form-control hp-current" value="10" min="0" placeholder="–¢–µ–∫—É—â–∏–µ">
            <span>/</span>
            <input type="number" id="maxHP" class="form-control hp-max" value="10" min="1" placeholder="–ú–∞–∫—Å">
            <input type="number" id="tempHP" class="form-control hp-temp" value="0" min="0" placeholder="–í—Ä–µ–º">
          </div>
        </div>
        <div class="form-group dice-group">
          <label>–ö–æ—Å—Ç–∏ —Ö–∏—Ç–æ–≤</label>
          <div class="hit-dice-selector">
            <select id="hitDiceType" class="form-control">
              <option value="d6">d6</option>
              <option value="d8">d8</option>
              <option value="d10" selected>d10</option>
              <option value="d12">d12</option>
            </select>
            <input type="number" id="hitDiceCount" class="form-control hit-dice-count" value="1" min="0">
          </div>
        </div>
        <div class="form-group death-saves-group">
          <label>–°–ø–∞—Å–±—Ä–æ—Å–∫–∏ –æ—Ç —Å–º–µ—Ä—Ç–∏</label>
          <div class="death-saves compact">
            <div class="death-save-group">
              <div class="death-save-circles" id="successCircles">
                <div class="death-save-circle" data-index="0"></div>
                <div class="death-save-circle" data-index="1"></div>
                <div class="death-save-circle" data-index="2"></div>
              </div>
            </div>
            <div class="death-save-group">
              <div class="death-save-circles" id="failureCircles">
                <div class="death-save-circle" data-index="0"></div>
                <div class="death-save-circle" data-index="1"></div>
                <div class="death-save-circle" data-index="2"></div>
              </div>
            </div>
          </div>
          <button type="button" class="btn btn-secondary roll-btn" id="rollDeathSave">
            –ë—Ä–æ—Å–æ–∫ —Å–ø–∞—Å–±—Ä–æ—Å–∫–∞
          </button>
        </div>
      </div>

      <!-- –õ–ï–í–ê–Ø –ö–û–õ–û–ù–ö–ê - –•–ê–†–ê–ö–¢–ï–†–ò–°–¢–ò–ö–ò -->
      <div class="ability-column compact-abilities">
        <div class="proficiency-bonus compact">
          –ë–æ–Ω—É—Å –≤–ª–∞–¥–µ–Ω–∏—è: <span id="proficiencyBonus">+2</span>
        </div>

        <!-- –í—Å–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –≤ 3 —Å—Ç—Ä–æ–∫–∏ –ø–æ 2 -->
        <div class="ability-rows">
          <!-- –°—Ç—Ä–æ–∫–∞ 1 -->
          <div class="ability-row compact">
            <div class="ability-card compact">
              <div class="ability-header">–°–ò–õ–ê</div>
              <input type="number" id="strScore" class="ability-score compact" value="10" min="1" max="30">
              <div class="ability-modifier" id="strMod">+0</div>
              <div class="saving-throw compact">
                <label><input type="checkbox" id="strSave"> –°–ø–∞—Å–±—Ä–æ—Å–æ–∫</label>
                <span id="strSaveMod">+0</span>
              </div>
              <div class="skill compact">
                <label><input type="checkbox" id="athletics"> –ê—Ç–ª–µ—Ç–∏–∫–∞</label>
                <span id="athleticsMod">+0</span>
              </div>
            </div>
            <div class="ability-card compact wide">
              <div class="ability-header">–õ–û–í–ö–û–°–¢–¨</div>
              <input type="number" id="dexScore" class="ability-score compact" value="10" min="1" max="30">
              <div class="ability-modifier" id="dexMod">+0</div>
              <div class="saving-throw compact">
                <label><input type="checkbox" id="dexSave"> –°–ø–∞—Å–±—Ä–æ—Å–æ–∫</label>
                <span id="dexSaveMod">+0</span>
              </div>
              <div class="skill compact">
                <label><input type="checkbox" id="acrobatics"> –ê–∫—Ä–æ–±–∞—Ç–∏–∫–∞</label>
                <span id="acrobaticsMod">+0</span>
              </div>
              <div class="skill compact">
                <label><input type="checkbox" id="sleight"> –õ–æ–≤–∫–æ—Å—Ç—å —Ä—É–∫</label>
                <span id="sleightMod">+0</span>
              </div>
              <div class="skill compact">
                <label><input type="checkbox" id="stealth"> –°–∫—Ä—ã—Ç–Ω–æ—Å—Ç—å</label>
                <span id="stealthMod">+0</span>
              </div>
            </div>
          </div>

          <!-- –°—Ç—Ä–æ–∫–∞ 2 -->
          <div class="ability-row compact">
            <div class="ability-card compact">
              <div class="ability-header">–¢–ï–õ–û–°–õ–û–ñ–ï–ù–ò–ï</div>
              <input type="number" id="conScore" class="ability-score compact" value="10" min="1" max="30">
              <div class="ability-modifier" id="conMod">+0</div>
              <div class="saving-throw compact">
                <label><input type="checkbox" id="conSave"> –°–ø–∞—Å–±—Ä–æ—Å–æ–∫</label>
                <span id="conSaveMod">+0</span>
              </div>
            </div>
            <div class="ability-card compact wide">
              <div class="ability-header">–ò–ù–¢–ï–õ–õ–ï–ö–¢</div>
              <input type="number" id="intScore" class="ability-score compact" value="10" min="1" max="30">
              <div class="ability-modifier" id="intMod">+0</div>
              <div class="saving-throw compact">
                <label><input type="checkbox" id="intSave"> –°–ø–∞—Å–±—Ä–æ—Å–æ–∫</label>
                <span id="intSaveMod">+0</span>
              </div>
              <div class="skill compact">
                <label><input type="checkbox" id="investigation"> –ê–Ω–∞–ª–∏–∑</label>
                <span id="investigationMod">+0</span>
              </div>
              <div class="skill compact">
                <label><input type="checkbox" id="history"> –ò—Å—Ç–æ—Ä–∏—è</label>
                <span id="historyMod">+0</span>
              </div>
              <div class="skill compact">
                <label><input type="checkbox" id="arcana"> –ú–∞–≥–∏—è</label>
                <span id="arcanaMod">+0</span>
              </div>
              <div class="skill compact">
                <label><input type="checkbox" id="nature"> –ü—Ä–∏—Ä–æ–¥–∞</label>
                <span id="natureMod">+0</span>
              </div>
              <div class="skill compact">
                <label><input type="checkbox" id="religion"> –†–µ–ª–∏–≥–∏—è</label>
                <span id="religionMod">+0</span>
              </div>
            </div>
          </div>

          <!-- –°—Ç—Ä–æ–∫–∞ 3 -->
          <div class="ability-row compact">
            <div class="ability-card compact">
              <div class="ability-header">–ú–£–î–†–û–°–¢–¨</div>
              <input type="number" id="wisScore" class="ability-score compact" value="10" min="1" max="30">
              <div class="ability-modifier" id="wisMod">+0</div>
              <div class="saving-throw compact">
                <label><input type="checkbox" id="wisSave"> –°–ø–∞—Å–±—Ä–æ—Å–æ–∫</label>
                <span id="wisSaveMod">+0</span>
              </div>
              <div class="skill compact">
                <label><input type="checkbox" id="perception"> –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å</label>
                <span id="perceptionMod">+0</span>
              </div>
              <div class="skill compact">
                <label><input type="checkbox" id="survival"> –í—ã–∂–∏–≤–∞–Ω–∏–µ</label>
                <span id="survivalMod">+0</span>
              </div>
              <div class="skill compact">
                <label><input type="checkbox" id="medicine"> –ú–µ–¥–∏—Ü–∏–Ω–∞</label>
                <span id="medicineMod">+0</span>
              </div>
              <div class="skill compact">
                <label><input type="checkbox" id="insight"> –ü—Ä–æ–Ω–∏—Ü–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å</label>
                <span id="insightMod">+0</span>
              </div>
              <div class="skill compact">
                <label><input type="checkbox" id="animal"> –£—Ö–æ–¥ –∑–∞ –∂–∏–≤–æ—Ç–Ω—ã–º–∏</label>
                <span id="animalMod">+0</span>
              </div>
            </div>
            <div class="ability-card compact wide">
              <div class="ability-header">–•–ê–†–ò–ó–ú–ê</div>
              <input type="number" id="chaScore" class="ability-score compact" value="10" min="1" max="30">
              <div class="ability-modifier" id="chaMod">+0</div>
              <div class="saving-throw compact">
                <label><input type="checkbox" id="chaSave"> –°–ø–∞—Å–±—Ä–æ—Å–æ–∫</label>
                <span id="chaSaveMod">+0</span>
              </div>
              <div class="skill compact">
                <label><input type="checkbox" id="performance"> –í—ã—Å—Ç—É–ø–ª–µ–Ω–∏–µ</label>
                <span id="performanceMod">+0</span>
              </div>
              <div class="skill compact">
                <label><input type="checkbox" id="intimidation"> –ó–∞–ø—É–≥–∏–≤–∞–Ω–∏–µ</label>
                <span id="intimidationMod">+0</span>
              </div>
              <div class="skill compact">
                <label><input type="checkbox" id="deception"> –û–±–º–∞–Ω</label>
                <span id="deceptionMod">+0</span>
              </div>
              <div class="skill compact">
                <label><input type="checkbox" id="persuasion"> –£–±–µ–∂–¥–µ–Ω–∏–µ</label>
                <span id="persuasionMod">+0</span>
              </div>
            </div>
          </div>
        </div>

        <!-- –ú–∞–ª–µ–Ω—å–∫–∏–µ –ø–æ–ª—è -->
        <div class="small-stats compact">
          <div class="stat-item">
            <div class="stat-label">–ò–Ω–∏—Ü.</div>
            <div class="stat-value" id="initiativeValue">+0</div>
          </div>
          <div class="stat-item">
            <div class="stat-label">–°–∫–æ—Ä.</div>
            <input type="number" id="speedValue" class="stat-input" value="30">
          </div>
          <div class="stat-item">
            <div class="stat-label">–ü.–í–æ—Å–ø—Ä.</div>
            <div class="stat-value" id="passivePerceptionValue">10</div>
          </div>
          <div class="stat-item">
            <div class="stat-label">–°–æ—Å—Ç.</div>
            <select id="conditions" class="conditions-select compact">
              <option value="">–ù–µ—Ç</option>
              <option value="blinded">–û—Å–ª–µ–ø–ª—ë–Ω</option>
              <option value="charmed">–û—á–∞—Ä–æ–≤–∞–Ω</option>
              <!-- –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è -->
            </select>
          </div>
        </div>
      </div>

      <!-- –¶–ï–ù–¢–†–ê–õ–¨–ù–ê–Ø –ö–û–õ–û–ù–ö–ê -->
      <div class="center-column compact">
        <div class="ability-block">
          <div class="section-title">–û–†–£–ñ–ò–ï</div>
          <table class="weapons-table compact">
            <thead>
              <tr>
                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                <th>–ë–æ–Ω—É—Å</th>
                <th>–£—Ä–æ–Ω</th>
              </tr>
            </thead>
            <tbody id="weaponsTableBody">
              <tr>
                <td><input type="text" class="form-control" placeholder="–ú–µ—á"></td>
                <td><input type="text" class="form-control" placeholder="+5"></td>
                <td><input type="text" class="form-control" placeholder="1d8"></td>
              </tr>
            </tbody>
          </table>
          <button type="button" class="btn btn-secondary add-weapon-btn" id="addWeapon">
            + –û—Ä—É–∂–∏–µ
          </button>
        </div>

        <div class="ability-block">
          <div class="section-title">–°–ü–û–°–û–ë–ù–û–°–¢–ò –ö–õ–ê–°–°–ê</div>
          <textarea id="classAbilities" class="text-area" placeholder="–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏..."></textarea>
        </div>

        <div class="ability-block">
          <div class="section-title">–°–ü–û–°–û–ë–ù–û–°–¢–ò –†–ê–°–´</div>
          <textarea id="raceAbilities" class="text-area" placeholder="–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏..."></textarea>
        </div>

        <div class="ability-block">
          <div class="section-title">–ß–ï–†–¢–´</div>
          <textarea id="features" class="text-area" placeholder="–ß–µ—Ä—Ç—ã..."></textarea>
        </div>

        <div class="ability-block">
          <div class="section-title">–ó–ê–ú–ï–¢–ö–ò</div>
          <textarea id="notes" class="text-area" placeholder="–ó–∞–º–µ—Ç–∫–∏..."></textarea>
        </div>
      </div>

      <!-- –ù–ò–ñ–ù–ò–ô –ë–õ–û–ö -->
      <div class="bottom-section compact">
        <div class="ability-block">
          <div class="section-title">–í–õ–ê–î–ï–ù–ò–ï</div>
          <div class="proficiencies-row compact">
            <div class="checkbox-group"><input type="checkbox" id="lightArmor"><label>–õ—ë–≥–∫–∏–µ</label></div>
            <div class="checkbox-group"><input type="checkbox" id="mediumArmor"><label>–°—Ä–µ–¥–Ω–∏–µ</label></div>
            <div class="checkbox-group"><input type="checkbox" id="heavyArmor"><label>–¢—è–∂—ë–ª—ã–µ</label></div>
            <div class="checkbox-group"><input type="checkbox" id="shieldProficiency"><label>–©–∏—Ç—ã</label></div>
            <div class="checkbox-group"><input type="checkbox" id="simpleWeapons"><label>–ü—Ä–æ—Å—Ç–æ–µ</label></div>
            <div class="checkbox-group"><input type="checkbox" id="martialWeapons"><label>–í–æ–∏–Ω—Å–∫–æ–µ</label></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="characters.js"></script>
</body>
</html>
