
                        <!DOCTYPE html>
                        <html lang="en">
                        <head>
                            <meta charset="UTF-8">
                            <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <style>
                body {
                  background-color: white; /* Ensure the iframe has a white background */
                }
    
                /* character-sheet.css — официальный стиль листа персонажа D&D */

.character-editor {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  z-index: 2000;
  overflow: auto;
  padding: 1rem;
}

.sheet-container {
  max-width: 800px;
  margin: 0 auto;
  background: white;
  color: #333;
  font-family: 'Times New Roman', Times, serif;
  box-shadow: 0 0 30px rgba(0, 0, 0, 0.7);
}

.character-sheet {
  padding: 1.5rem;
  background: white;
  color: #333;
}

/* Заголовок */
.sheet-header {
  text-align: center;
  margin-bottom: 1.5rem;
  border-bottom: 2px solid #000;
  padding-bottom: 1rem;
}

.sheet-header h1 {
  font-size: 2rem;
  font-weight: bold;
  margin-bottom: 0.5rem;
  color: #000;
}

.sheet-header p {
  color: #666;
  font-style: italic;
}

/* Основные блоки */
.sheet-section {
  margin-bottom: 1.5rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid #ccc;
}

.sheet-section:last-child {
  border-bottom: none;
  margin-bottom: 0;
}

.section-title {
  font-weight: bold;
  font-size: 1.1rem;
  margin-bottom: 0.8rem;
  color: #000;
  padding-bottom: 0.3rem;
  border-bottom: 1px solid #999;
}

/* Верхняя строка - основная инфа */
.top-row {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 0.8rem;
  margin-bottom: 1rem;
}

.top-row .form-group {
  margin-bottom: 0;
}

.top-row label {
  display: block;
  font-size: 0.8rem;
  font-weight: bold;
  margin-bottom: 0.2rem;
  color: #555;
}

.top-row input {
  width: 100%;
  padding: 0.3rem;
  border: 1px solid #999;
  border-radius: 3px;
  font-size: 0.9rem;
}

/* Характеристики - официальный стиль */
.abilities-section {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 0.8rem;
  margin-bottom: 1rem;
}

.ability-box {
  text-align: center;
  border: 2px solid #000;
  padding: 0.5rem;
  background: #f9f9f9;
}

.ability-name {
  font-size: 0.8rem;
  font-weight: bold;
  margin-bottom: 0.3rem;
  text-transform: uppercase;
}

.ability-score {
  width: 100%;
  text-align: center;
  font-size: 1.8rem;
  font-weight: bold;
  border: none;
  background: transparent;
  padding: 0;
  margin: 0.2rem 0;
}

.ability-mod {
  font-size: 1.1rem;
  font-weight: bold;
  color: #007acc;
}

.saving-throws {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 0.5rem;
  margin-top: 0.5rem;
}

.save-item {
  text-align: center;
  font-size: 0.75rem;
}

.save-item input[type="checkbox"] {
  margin-right: 0.2rem;
}

/* Навыки */
.skills-section {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.8rem;
}

.skill-item {
  display: flex;
  align-items: center;
  font-size: 0.9rem;
}

.skill-item input[type="checkbox"] {
  margin-right: 0.5rem;
}

.skill-mod {
  margin-left: auto;
  font-weight: bold;
  min-width: 2rem;
  text-align: right;
}

/* Хиты и инициатива */
.combat-stats {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 0.8rem;
  margin-bottom: 1rem;
}

.combat-stats .form-group {
  margin-bottom: 0;
}

/* Оружие */
.weapons-table {
  width: 100%;
  border-collapse: collapse;
  margin: 0.5rem 0;
}

.weapons-table th,
.weapons-table td {
  border: 1px solid #999;
  padding: 0.3rem;
  font-size: 0.85rem;
}

.weapons-table th {
  background: #f0f0f0;
  font-weight: bold;
  text-align: center;
}

/* Текстовые поля */
.text-area {
  width: 100%;
  min-height: 80px;
  border: 1px solid #999;
  padding: 0.5rem;
  font-family: inherit;
  font-size: 0.9rem;
  resize: vertical;
}

/* Кнопки */
.editor-actions {
  display: flex;
  gap: 1rem;
  margin-top: 1.5rem;
  padding-top: 1rem;
  border-top: 2px solid #000;
}

.editor-actions .btn {
  padding: 0.5rem 1rem;
  border-radius: 4px;
  font-weight: bold;
  cursor: pointer;
}

.btn-primary {
  background: #007acc;
  color: white;
  border: 1px solid #007acc;
}

.btn-secondary {
  background: #f0f0f0;
  color: #333;
  border: 1px solid #999;
}

/* Адаптивность */
@media (max-width: 768px) {
  .top-row {
    grid-template-columns: repeat(3, 1fr);
  }
  
  .abilities-section {
    grid-template-columns: repeat(3, 1fr);
  }
  
  .combat-stats {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .skills-section {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 480px) {
  .top-row {
    grid-template-columns: 1fr;
  }
  
  .abilities-section {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .combat-stats {
    grid-template-columns: 1fr;
  }
}


              </style>
                        </head>
                        <body>
                            <!-- Редактор персонажа (скрыт по умолчанию) -->
<div class="character-editor" id="characterEditor">
  <div class="sheet-container">
    <div class="character-sheet">
      <div class="sheet-header">
        <h1>Лист персонажа</h1>
        <p>Dungeons & Dragons 5-го издания</p>
      </div>

      <!-- Основная информация -->
      <div class="top-row">
        <div class="form-group">
          <label>Имя персонажа</label>
          <input type="text" id="charName" placeholder="Арагорн">
        </div>
        <div class="form-group">
          <label>Класс</label>
          <input type="text" id="charClass" placeholder="Воин">
        </div>
        <div class="form-group">
          <label>Уровень</label>
          <input type="number" id="charLevel" value="1" min="1" max="20">
        </div>
        <div class="form-group">
          <label>Раса</label>
          <input type="text" id="charRace" placeholder="Человек">
        </div>
        <div class="form-group">
          <label>Подкласс</label>
          <input type="text" id="charSubclass" placeholder="Паладин">
        </div>
        <div class="form-group">
          <label>Предыстория</label>
          <input type="text" id="charBackground" placeholder="Странник">
        </div>
      </div>

      <!-- Характеристики -->
      <div class="sheet-section">
        <div class="section-title">ХАРАКТЕРИСТИКИ</div>
        <div class="abilities-section">
          <!-- Сила -->
          <div class="ability-box">
            <div class="ability-name">СИЛА</div>
            <input type="number" id="strScore" class="ability-score" value="10" min="1" max="30">
            <div class="ability-mod" id="strMod">+0</div>
            <div class="saving-throws">
              <div class="save-item">
                <label><input type="checkbox" id="strSave"> Спасбросок</label>
              </div>
              <div class="save-item" id="strSaveMod">+0</div>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="athletics"> Атлетика</label>
              <span class="skill-mod" id="athleticsMod">+0</span>
            </div>
          </div>

          <!-- Ловкость -->
          <div class="ability-box">
            <div class="ability-name">ЛОВКОСТЬ</div>
            <input type="number" id="dexScore" class="ability-score" value="10" min="1" max="30">
            <div class="ability-mod" id="dexMod">+0</div>
            <div class="saving-throws">
              <div class="save-item">
                <label><input type="checkbox" id="dexSave"> Спасбросок</label>
              </div>
              <div class="save-item" id="dexSaveMod">+0</div>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="acrobatics"> Акробатика</label>
              <span class="skill-mod" id="acrobaticsMod">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="sleight"> Ловкость рук</label>
              <span class="skill-mod" id="sleightMod">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="stealth"> Скрытность</label>
              <span class="skill-mod" id="stealthMod">+0</span>
            </div>
          </div>

          <!-- Телосложение -->
          <div class="ability-box">
            <div class="ability-name">ТЕЛОСЛОЖЕНИЕ</div>
            <input type="number" id="conScore" class="ability-score" value="10" min="1" max="30">
            <div class="ability-mod" id="conMod">+0</div>
            <div class="saving-throws">
              <div class="save-item">
                <label><input type="checkbox" id="conSave"> Спасбросок</label>
              </div>
              <div class="save-item" id="conSaveMod">+0</div>
            </div>
          </div>

          <!-- Интеллект -->
          <div class="ability-box">
            <div class="ability-name">ИНТЕЛЛЕКТ</div>
            <input type="number" id="intScore" class="ability-score" value="10" min="1" max="30">
            <div class="ability-mod" id="intMod">+0</div>
            <div class="saving-throws">
              <div class="save-item">
                <label><input type="checkbox" id="intSave"> Спасбросок</label>
              </div>
              <div class="save-item" id="intSaveMod">+0</div>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="investigation"> Анализ</label>
              <span class="skill-mod" id="investigationMod">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="history"> История</label>
              <span class="skill-mod" id="historyMod">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="arcana"> Магия</label>
              <span class="skill-mod" id="arcanaMod">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="nature"> Природа</label>
              <span class="skill-mod" id="natureMod">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="religion"> Религия</label>
              <span class="skill-mod" id="religionMod">+0</span>
            </div>
          </div>

          <!-- Мудрость -->
          <div class="ability-box">
            <div class="ability-name">МУДРОСТЬ</div>
            <input type="number" id="wisScore" class="ability-score" value="10" min="1" max="30">
            <div class="ability-mod" id="wisMod">+0</div>
            <div class="saving-throws">
              <div class="save-item">
                <label><input type="checkbox" id="wisSave"> Спасбросок</label>
              </div>
              <div class="save-item" id="wisSaveMod">+0</div>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="perception"> Внимательность</label>
              <span class="skill-mod" id="perceptionMod">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="survival"> Выживание</label>
              <span class="skill-mod" id="survivalMod">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="medicine"> Медицина</label>
              <span class="skill-mod" id="medicineMod">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="insight"> Проницательность</label>
              <span class="skill-mod" id="insightMod">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="animal"> Уход за животными</label>
              <span class="skill-mod" id="animalMod">+0</span>
            </div>
          </div>

          <!-- Харизма -->
          <div class="ability-box">
            <div class="ability-name">ХАРИЗМА</div>
            <input type="number" id="chaScore" class="ability-score" value="10" min="1" max="30">
            <div class="ability-mod" id="chaMod">+0</div>
            <div class="saving-throws">
              <div class="save-item">
                <label><input type="checkbox" id="chaSave"> Спасбросок</label>
              </div>
              <div class="save-item" id="chaSaveMod">+0</div>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="performance"> Выступление</label>
              <span class="skill-mod" id="performanceMod">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="intimidation"> Запугивание</label>
              <span class="skill-mod" id="intimidationMod">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="deception"> Обман</label>
              <span class="skill-mod" id="deceptionMod">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="persuasion"> Убеждение</label>
              <span class="skill-mod" id="persuasionMod">+0</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Боевые характеристики -->
      <div class="sheet-section">
        <div class="section-title">БОЕВЫЕ ХАРАКТЕРИСТИКИ</div>
        <div class="combat-stats">
          <div class="form-group">
            <label>Класс защиты</label>
            <input type="number" id="armorClass" value="10">
          </div>
          <div class="form-group">
            <label>Инициатива</label>
            <input type="text" id="initiativeValue" value="+0" readonly>
          </div>
          <div class="form-group">
            <label>Скорость</label>
            <input type="number" id="speedValue" value="30">
          </div>
          <div class="form-group">
            <label>Пассивное восприятие</label>
            <input type="text" id="passivePerceptionValue" value="10" readonly>
          </div>
        </div>
        
        <div class="combat-stats">
          <div class="form-group">
            <label>Текущие хиты</label>
            <input type="number" id="currentHP" value="10">
          </div>
          <div class="form-group">
            <label>Временные хиты</label>
            <input type="number" id="tempHP" value="0">
          </div>
          <div class="form-group">
            <label>Максимум хитов</label>
            <input type="number" id="maxHP" value="10">
          </div>
          <div class="form-group">
            <label>Кости хитов</label>
            <input type="text" id="hitDiceDisplay" value="1d10" readonly>
          </div>
        </div>
      </div>

      <!-- Опыт и уровень -->
      <div class="sheet-section">
        <div class="section-title">ПРОГРЕСС</div>
        <div class="top-row">
          <div class="form-group">
            <label>Опыт</label>
            <input type="number" id="charExp" value="0">
          </div>
          <div class="form-group">
            <label>Следующий уровень</label>
            <input type="text" id="nextLevelExp" value="300" readonly>
          </div>
        </div>
      </div>

      <!-- Оружие -->
      <div class="sheet-section">
        <div class="section-title">ОРУЖИЕ И АТАКИ</div>
        <table class="weapons-table">
          <thead>
            <tr>
              <th>Название</th>
              <th>Бонус атаки</th>
              <th>Урон</th>
              <th>Заметки</th>
            </tr>
          </thead>
          <tbody id="weaponsTableBody">
            <tr>
              <td><input type="text" placeholder="Длинный меч"></td>
              <td><input type="text" placeholder="+5"></td>
              <td><input type="text" placeholder="1d8+3"></td>
              <td><input type="text" placeholder=""></td>
            </tr>
          </tbody>
        </table>
        <button type="button" class="btn btn-secondary" id="addWeapon" style="margin-top: 0.5rem; padding: 0.3rem 0.6rem; font-size: 0.9rem;">
          + Добавить оружие
        </button>
      </div>

      <!-- Навыки (полный список) -->
      <div class="sheet-section">
        <div class="section-title">НАВЫКИ</div>
        <div class="skills-section">
          <div>
            <div class="skill-item">
              <label><input type="checkbox" id="acrobatics2"> Акробатика (Ловкость)</label>
              <span class="skill-mod" id="acrobaticsMod2">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="animal2"> Уход за животными (Мудрость)</label>
              <span class="skill-mod" id="animalMod2">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="arcana2"> Магия (Интеллект)</label>
              <span class="skill-mod" id="arcanaMod2">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="athletics2"> Атлетика (Сила)</label>
              <span class="skill-mod" id="athleticsMod2">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="deception2"> Обман (Харизма)</label>
              <span class="skill-mod" id="deceptionMod2">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="history2"> История (Интеллект)</label>
              <span class="skill-mod" id="historyMod2">+0</span>
            </div>
          </div>
          <div>
            <div class="skill-item">
              <label><input type="checkbox" id="insight2"> Проницательность (Мудрость)</label>
              <span class="skill-mod" id="insightMod2">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="intimidation2"> Запугивание (Харизма)</label>
              <span class="skill-mod" id="intimidationMod2">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="investigation2"> Анализ (Интеллект)</label>
              <span class="skill-mod" id="investigationMod2">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="medicine2"> Медицина (Мудрость)</label>
              <span class="skill-mod" id="medicineMod2">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="nature2"> Природа (Интеллект)</label>
              <span class="skill-mod" id="natureMod2">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="perception2"> Внимательность (Мудрость)</label>
              <span class="skill-mod" id="perceptionMod2">+0</span>
            </div>
          </div>
        </div>
        <div class="skills-section">
          <div>
            <div class="skill-item">
              <label><input type="checkbox" id="performance2"> Выступление (Харизма)</label>
              <span class="skill-mod" id="performanceMod2">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="persuasion2"> Убеждение (Харизма)</label>
              <span class="skill-mod" id="persuasionMod2">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="religion2"> Религия (Интеллект)</label>
              <span class="skill-mod" id="religionMod2">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="sleight2"> Ловкость рук (Ловкость)</label>
              <span class="skill-mod" id="sleightMod2">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="stealth2"> Скрытность (Ловкость)</label>
              <span class="skill-mod" id="stealthMod2">+0</span>
            </div>
            <div class="skill-item">
              <label><input type="checkbox" id="survival2"> Выживание (Мудрость)</label>
              <span class="skill-mod" id="survivalMod2">+0</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Текстовые разделы -->
      <div class="sheet-section">
        <div class="section-title">СПОСОБНОСТИ И ЗАКЛИНАНИЯ</div>
        <div class="form-group">
          <label>Способности класса</label>
          <textarea id="classAbilities" placeholder="Способности класса..."></textarea>
        </div>
        <div class="form-group">
          <label>Способности расы</label>
          <textarea id="raceAbilities" placeholder="Способности расы..."></textarea>
        </div>
        <div class="form-group">
          <label>Заклинания</label>
          <textarea id="spellbook" placeholder="Заклинания..."></textarea>
        </div>
      </div>

      <div class="sheet-section">
        <div class="section-title">ПЕРСОНАЖ</div>
        <div class="form-group">
          <label>Внешность</label>
          <textarea id="appearance" placeholder="Описание внешности..."></textarea>
        </div>
        <div class="form-group">
          <label>Личные качества</label>
          <textarea id="personality" placeholder="Личные качества и предыстория..."></textarea>
        </div>
        <div class="form-group">
          <label>Цели и задачи</label>
          <textarea id="goals" placeholder="Цели и задачи персонажа..."></textarea>
        </div>
      </div>

      <div class="sheet-section">
        <div class="section-title">СНАРЯЖЕНИЕ</div>
        <div class="form-group">
          <label>Снаряжение</label>
          <textarea id="equipment" placeholder="Снаряжение персонажа..."></textarea>
        </div>
        <div class="top-row">
          <div class="form-group">
            <label>Медные (ММ)</label>
            <input type="number" id="cp" value="0">
          </div>
          <div class="form-group">
            <label>Серебряные (СМ)</label>
            <input type="number" id="sp" value="0">
          </div>
          <div class="form-group">
            <label>Золотые (ЗМ)</label>
            <input type="number" id="gp" value="0">
          </div>
          <div class="form-group">
            <label>Электрумовые (ЭМ)</label>
            <input type="number" id="ep" value="0">
          </div>
          <div class="form-group">
            <label>Платиновые (ПМ)</label>
            <input type="number" id="pp" value="0">
          </div>
          <div class="form-group">
            <label>Итого в ЗМ</label>
            <input type="text" id="coinTotal" readonly>
          </div>
        </div>
      </div>

      <!-- Кнопки -->
      <div class="editor-actions">
        <button class="btn btn-primary" id="saveCharBtn">Сохранить персонажа</button>
        <button class="btn btn-secondary" id="exportJsonBtn">Экспорт в JSON</button>
        <button class="btn btn-secondary" id="closeEditor">Закрыть</button>
      </div>
    </div>
  </div>
</div>

<link rel="stylesheet" href="css/character-editor.css">

<link rel="stylesheet" href="css/character-sheet.css">


    
              <script>
                              
              </script>
                        </body>
                        </html>
                    
